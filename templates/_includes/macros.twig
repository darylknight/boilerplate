{# This macro requires an asset and a transform #}
{% macro image(asset, transform, class) %}
	{% if asset %}
		<img data-src="{{ asset.url(transform) }}"
			src="/assets/images/placeholder.gif"
			class="lazyload img-fluid {{ class ? class }}"
			style="object-position: {{ asset.focalPoint.x * 100 ~ '% ' ~ asset.focalPoint.y * 100 ~ '%;' }}"
			alt="{{ asset.alt }}" />
	{% endif %}
{% endmacro %}

{# This macro requires a URL and some button text #}
{% macro button(url, text, class, target) %}
	<a href="{{ url }}" {{ target ? 'target="_blank"' }} class="{{ class }}">{{ text }}</a>
{% endmacro %}

{# This macro uses Retcon to add Tailwind classes to Redactor fields #}
{% macro text(fieldHandle, classes, psize) %}
	{{
		fieldHandle
			|retconAttr(
				'h1',
				{
					class: (classes|default('')) ~ ' h1'
				}
			)
			|retconAttr(
				'h2',
				{
					class: (classes|default('')) ~ ' h2'
				}
			)
			|retconAttr(
				'h3',
				{
					class: (classes|default('')) ~ ' h3'
				}
			)
			|retconAttr(
				'h4',
				{
					class: (classes|default('')) ~ ' h4'
				}
			)
			|retconAttr(
				'p',
				{
					class: (classes|default('')) ~ ' mb-5 last:mb-0'
				}
			)
			|retconAttr(
				'ul',
				{
					class: (classes|default('')) ~ ' list-disc pl-8'
				}
			)
			|retconAttr(
				'li',
				{
					class: (classes|default('')) ~ ' pl-2'
				}
			)
			|retconAttr(
				'blockquote',
				{
					class: (classes|default('')) ~ ' pl-4 mb-8 last:mb-0'
				}
			)
			|retconAttr(
				'strong',
				{
					class: 'font-bold'
				}
			)
			|retconAttr(
				'a',
				{
					class: 'underline focus:outline-none'
				}
			)
	}}
{% endmacro %}
